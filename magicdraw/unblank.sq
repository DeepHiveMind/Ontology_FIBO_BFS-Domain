DELETE {GRAPH ?graph {?q ?p ?r . }
}
INSERT { GRAPH ?graph {
  ?q ?p ?e . 
?e owl:equivalentClass ?r . 
?e rdfs:label ?l . 
?e a owl:Class . }
}
WHERE {
?q   a owl:Restriction ; ?p ?r . ?r a owl:Restriction . 
(?q ?p ?r) tops:statementDefinedIn ?g .
LET (?graph := smf:buildURI (?g))
LET (?l :=    ui:label (?r))
LET (?e := smf:buildURI ( "{?1}{?2}",  afn:namespace (?graph), smf:regex (smf:regex (?l, "[`')(]", ""), "\\[.*\\]", "")))
}


