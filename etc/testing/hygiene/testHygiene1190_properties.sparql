prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
prefix owl:   <http://www.w3.org/2002/07/owl#>


##
# banner Property subPropertyOf hierarchy shouldn't be circular.

SELECT DISTINCT ?error ?property
WHERE 
{
  FILTER (CONTAINS(str(?property), "edmcouncil"))
  ?property rdfs:subPropertyOf+ ?property .
  OPTIONAL
     {
         ?property owl:deprecated ?deprecated .
         FILTER (str(?deprecated) != "true")
     }

  BIND (concat ("PRODERROR: There is a hierarchy cycle around property ", str(?property)) AS ?error)
}